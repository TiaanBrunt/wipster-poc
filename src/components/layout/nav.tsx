'use client'

import { useEffect, useState } from 'react';
import GenericLink from "../generic/link";

const Nav = (() => {
  const c = "c-nav";
  const [sticky, setSticky] = useState(false);

  function checkScroll(scrollPos:number) {
    console.log(sticky)
    return scrollPos > 30;
  }

  useEffect(() => {
    const scroll = () => setSticky(checkScroll(window.scrollY));
    window.addEventListener('scroll', scroll, { passive: true });
    return () => window.removeEventListener('scroll', scroll);
  }, []);

  return(
    <header className={`${c}`}>
      <div className={`${c}__top-bar`}>
        <div className={`${c}__top-bar__content`}>
          <a href="/">LOGIN</a>
          <a href="/">SUPPORT</a>
        </div>
      </div>
      <nav className={`${c}__nav-container ${sticky && `${c}__nav-container--sticky`}`}>
        <a href="/" className={`${c}__nav-container__logo-link`}>
      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 523 146" className={`${c}__nav-container__logo-link__image`}>
      <g>
        <polygon points="253.9,57.3 243.4,91.2 232.6,57.3 219,57.3 208.3,91.2 198,57.3 184,57.3 201.5,107.7 214.6,107.7 225.7,73 
          237,107.7 250,107.7 267.4,57.3 	"/>
        <path d="M284.4,34.7c-1.6-1.4-3.5-2.2-5.8-2.2c-2.3,0-4.2,0.8-5.7,2.3c-1.5,1.5-2.3,3.3-2.3,5.3c0,2,0.8,3.8,2.3,5.3
          c1.5,1.5,3.4,2.3,5.7,2.3c2.3,0,4.3-0.7,5.8-2.2c1.6-1.4,2.4-3.2,2.4-5.4C286.8,38,286,36.2,284.4,34.7z"/>
        <rect x="272.4" y="57.3" width="12.6" height="50.4"/>
        <path d="M341.3,63.5c-2.2-2.4-4.8-4.3-7.8-5.6c-3-1.4-6.3-2-9.9-2c-2.3,0-4.4,0.3-6.2,0.8c-1.9,0.5-3.5,1.2-5,2
          c-1.5,0.8-2.7,1.7-3.7,2.7c-1,1-1.8,2-2.5,3h-0.3v-7h-12.1v75.6h12.6V101h0.2c1.6,2.5,3.9,4.5,6.9,6c3,1.5,6.2,2.2,9.8,2.2
          c3.8,0,7.3-0.7,10.3-2.2c3-1.4,5.6-3.4,7.8-5.8c2.1-2.4,3.8-5.3,4.9-8.5c1.2-3.3,1.7-6.7,1.7-10.4c0-3.7-0.6-7.2-1.8-10.4
          C345.1,68.6,343.5,65.8,341.3,63.5z M334.4,88.1c-0.6,2-1.5,3.7-2.7,5.3c-1.2,1.5-2.7,2.8-4.5,3.8c-1.8,1-4,1.5-6.4,1.5
          c-2.3,0-4.4-0.5-6.2-1.4c-1.8-0.9-3.4-2.2-4.7-3.7c-1.3-1.5-2.3-3.3-2.9-5.2c-0.7-1.9-1-3.9-1-5.8c0-2,0.3-3.9,1-5.9
          c0.7-2,1.6-3.7,2.9-5.3c1.3-1.5,2.9-2.8,4.7-3.8c1.8-1,3.9-1.5,6.2-1.5c2.4,0,4.6,0.5,6.4,1.4c1.8,0.9,3.3,2.2,4.5,3.7
          c1.2,1.5,2.1,3.3,2.7,5.2c0.6,1.9,0.9,3.9,0.9,5.8C335.3,84.2,335,86.2,334.4,88.1z"/>
        <path d="M366.9,66.5c1.7-0.8,3.5-1.3,5.6-1.3c2.3,0,4.4,0.5,6.4,1.6c2,1.1,3.5,2.4,4.6,3.8l8.2-7.2c-2-2.6-4.8-4.5-8.2-5.8
          c-3.5-1.3-7-1.9-10.7-1.9c-2.5,0-5,0.3-7.4,0.9c-2.4,0.6-4.5,1.6-6.4,2.9c-1.9,1.3-3.4,3-4.6,5c-1.2,2-1.7,4.4-1.7,7.2
          c0,2.4,0.4,4.4,1.3,6c0.8,1.6,2,3,3.4,4c1.4,1.1,3,2,4.8,2.6c1.8,0.7,3.6,1.2,5.5,1.6c3.8,0.9,6.7,1.8,8.7,2.7
          c1.9,0.9,2.9,2.4,2.9,4.5c0,1.1-0.2,2.1-0.7,2.8c-0.5,0.8-1.1,1.4-1.9,1.8c-0.8,0.5-1.7,0.8-2.6,1c-0.9,0.2-1.9,0.3-2.8,0.3
          c-2.7,0-5.2-0.6-7.5-1.8c-2.2-1.2-4.1-2.7-5.5-4.5l-8.3,7.8c2.4,2.7,5.5,4.7,9.2,6.1c3.7,1.4,7.5,2.2,11.4,2.2
          c2.7,0,5.4-0.3,7.9-0.9c2.6-0.6,4.8-1.6,6.7-2.9c1.9-1.3,3.5-3.1,4.6-5.2c1.2-2.1,1.7-4.7,1.7-7.8c0-2.4-0.5-4.5-1.5-6.2
          c-1-1.7-2.3-3.2-3.8-4.3c-1.6-1.2-3.3-2.1-5.3-2.8c-1.9-0.7-3.8-1.3-5.7-1.7c-3.6-0.8-6.3-1.7-8.1-2.5c-1.9-0.8-2.8-2.2-2.8-4.1
          C364.4,68.8,365.3,67.4,366.9,66.5z"/>
        <path d="M414.8,42.7h-12.4v14.6h-7.5v10.1h7.5v23.5c0,2.5,0.2,4.7,0.7,6.9c0.5,2.1,1.3,4,2.5,5.7c1.2,1.6,2.9,2.9,5,3.9
          c2.1,0.9,4.8,1.4,8.2,1.4c1.4,0,2.9-0.1,4.4-0.4c1.5-0.2,2.9-0.6,4-1l-0.4-9.9c-0.8,0.4-1.6,0.6-2.6,0.8c-1,0.2-1.9,0.3-2.7,0.3
          c-2.8,0-4.6-0.7-5.4-2.2c-0.8-1.5-1.2-3.3-1.2-5.6V67.4h12.6V57.3h-12.6V42.7z"/>
        <path d="M473.3,62.7c-2.2-2.3-4.7-4-7.7-5.1c-3-1.2-6.2-1.7-9.7-1.7c-3.8,0-7.3,0.6-10.6,1.9c-3.3,1.3-6.1,3.1-8.5,5.5
          c-2.4,2.3-4.3,5.2-5.6,8.5c-1.4,3.3-2,7-2,11.1c0,4.1,0.7,7.8,2,11.1c1.4,3.3,3.3,6,5.7,8.2c2.4,2.2,5.3,4,8.6,5.2
          c3.3,1.2,6.9,1.8,10.8,1.8c9.5,0,16.7-3.4,21.6-10.1l-8.4-6.7c-1.4,2-3.2,3.6-5.4,4.8c-2.2,1.2-4.8,1.7-8,1.7
          c-1.8,0-3.6-0.3-5.3-0.9c-1.7-0.6-3.2-1.5-4.5-2.6c-1.3-1.1-2.4-2.4-3.2-3.9c-0.8-1.5-1.3-3.2-1.4-5h38.3c0.1-0.6,0.1-1.1,0.1-1.7
          c0-0.6,0-1.1,0-1.7c0-4.6-0.6-8.5-1.8-11.9C477.2,67.8,475.5,65,473.3,62.7z M441.8,77.4c0.3-3.6,1.7-6.5,4.4-8.8
          c2.6-2.3,5.8-3.4,9.6-3.4c2,0,3.8,0.3,5.3,1c1.5,0.7,2.7,1.6,3.7,2.7c1,1.1,1.7,2.4,2.2,3.9c0.5,1.5,0.7,3,0.7,4.6H441.8z"/>
        <path d="M515,55.9c-0.6,0-1.1-0.1-1.6-0.1c-3.4,0-6.3,0.9-8.8,2.7c-2.5,1.8-4.5,4.2-5.9,7.1h-0.2v-8.4h-12.1v50.4h12.6v-27
          c0-0.9,0.2-2.1,0.5-3.7c0.3-1.5,1-3,2-4.5c1-1.5,2.3-2.7,4.1-3.8c1.7-1.1,4.1-1.6,6.9-1.6c0.6,0,1.1,0,1.7,0.1
          c0.6,0.1,1.3,0.2,2.2,0.4V56.1C516.1,56,515.6,55.9,515,55.9z"/>
        <g>
          <path d="M26.5,132.9c-1.5,0-2.9-0.2-4.4-0.6c-6.9-2-11.7-8.3-11.7-15.5V22.9c0-8.9,7.2-16.1,16.1-16.1s16.1,7.2,16.1,16.1v37.3
            l28.3-45.8c3.8-6.1,11.1-9,18.1-7c6.9,2,11.7,8.3,11.7,15.5v37.3l28.3-45.8c4.7-7.5,14.6-9.9,22.1-5.2c7.5,4.7,9.9,14.6,5.2,22.1
            l-58,93.9c-3.8,6.1-11.1,9-18.1,7c-6.9-2-11.7-8.3-11.7-15.5V79.5l-28.3,45.8C37.1,130.1,31.9,132.9,26.5,132.9z"/>
        </g>
      </g>
      </svg>

          {/* <img src="https://www.wipster.io/hubfs/wipster-logo.svg" alt="Wipster logo" width={160} height={140} /> */}
        </a>
        <ul className={`${c}__nav-container__nav-list`}>
          <li className={`${c}__nav-container__nav-list__link`}>Features</li>
          <li className={`${c}__nav-container__nav-list__link`}>Customers</li>
          <li className={`${c}__nav-container__nav-list__link`}>Pricing</li>
          <li className={`${c}__nav-container__nav-list__link`}>Resources</li>
        </ul>
      {/* TODO: Search pop up  */}
      <div className={`${c}__nav-container__search`}>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <path fill="#FFF" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6 .1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/>
          </svg>
      </div>
      <div className={`${c}__nav-container__trial`}>
        <GenericLink
          text="Start free trial"
          url="/"
          variant="green"
        />
      </div>
      </nav>
    </header>
  )
})

export default Nav;

